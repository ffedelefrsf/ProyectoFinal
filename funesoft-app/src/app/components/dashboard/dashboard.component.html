<div class="row">
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-cube text-danger icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">{{ estadisticas[0].titulo }}</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">{{ estadisticas[0].valor }}</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-alert-octagon mr-1" aria-hidden="true"></i> {{ estadisticas[0].subtitulo }}
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-receipt text-warning icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">{{ estadisticas[1].titulo }}</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">{{ estadisticas[1].valor }}</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-bookmark-outline mr-1" aria-hidden="true"></i> {{ estadisticas[1].subtitulo }}
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-poll-box text-success icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">{{ estadisticas[2].titulo }}</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">{{ estadisticas[2].valor }}</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-reload mr-1" aria-hidden="true"></i> {{ estadisticas[2].subtitulo | titlecase}}
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-compass icon-lg text-warning"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">{{ estadisticas[3].titulo }}</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">{{ estadisticas[3].valor }}</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-calendar mr-1" aria-hidden="true"></i> {{ estadisticas[3].subtitulo }}
        </p>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-7 grid-margin stretch-card">
    <!--weather card-->
    <div class="card card-weather">
      <div class="card-body">
        <div class="weather-date-location">
          <h3>{{ currentDay | titlecase }}</h3>
          <p class="text-gray">
            <span class="weather-date" style="padding-right: 5px;">{{ currentDate }}</span>
            <span class="weather-location">- Bovril, Entre Ríos</span>
          </p>
        </div>
        <div class="weather-data d-flex">
          <div class="mr-auto">
            <h4 class="display-3">27
              <span class="symbol">&deg;</span>C
            </h4>
            <p>
              Cálido
            </p>
          </div>
        </div>
      </div>
    </div>
    <!--weather card ends-->
  </div>
  <div class="col-lg-5 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h2 class="card-title text-primary mb-5">Rendimiento histórico</h2>

        <div class="wrapper d-flex justify-content-between" *ngFor="let historico of historicos">
          <div class="side-left">
            <p class="mb-2"> {{ historico.texto }} </p>
            <p class="display-3 mb-4 font-weight-light"> {{ historico.valor }} </p>
          </div>
          <div class="side-right">
            <small class="text-muted"> {{ historico.anio }} </small>
          </div>
        </div>

        <!-- <div class="wrapper">
          <div class="d-flex justify-content-between">
            <p class="mb-2">Ventas</p>
            <p class="mb-2 text-primary">25</p>
          </div>
          <div class="progress">
            <div class="progress-bar bg-primary progress-bar-striped progress-bar-animated" role="progressbar"
              style="width: 88%" aria-valuenow="88" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="wrapper mt-4">
          <div class="d-flex justify-content-between">
            <p class="mb-2">Ingresos</p>
            <p class="mb-2 text-success">56%</p>
          </div>
          <div class="progress">
            <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar"
              style="width: 56%" aria-valuenow="56" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12 grid-margin">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Potenciales bajas</h4>

        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>
                  Socio
                </th>
                <th>
                  Titular
                </th>
                <th>
                  Saldo
                </th>
                <th>
                  Meses impagos
                </th>
                <th>
                  Baja propuesta
                </th>
                <th>
                  Acciones
                </th>
              </tr>
            </thead>
            <tbody *ngIf="(deudoresDTO.length > 0)">
              <tr *ngFor="let deudor of deudoresDTO; let i = index">
                <td> {{ deudor.idSocio }} </td>
                <td>
                  {{ deudor.nombre + " " + deudor.apellido }}
                </td>
                <td> {{ "$ " + deudor.saldo }} </td>
                <td>
                  <div class="wrapper d-flex justify-content-between" style="margin-bottom: 2px;">
                    <div class="side-left">
                    </div>
                    <div class="side-right">
                      <small class="text-muted">{{ deudor.mesesDebe }}</small>
                    </div>
                  </div>
                  <div class="progress" *ngIf="deudor.mesesDebe === 0">
                    <div class="progress-bar bg-danger progress-bar-striped" role="progressbar" style="width: 0%"
                      aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  <div class="progress" *ngIf="deudor.mesesDebe === 1">
                    <div class="progress-bar bg-danger progress-bar-striped" role="progressbar" style="width: 33%"
                      aria-valuenow="33" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  <div class="progress" *ngIf="deudor.mesesDebe === 2">
                    <div class="progress-bar bg-danger progress-bar-striped" role="progressbar" style="width: 66%"
                      aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  <div class="progress" *ngIf="deudor.mesesDebe > 2">
                     <div class="progress-bar bg-danger progress-bar-striped" role="progressbar" style="width: 100%"
                      aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </td>
                <td>
                  <div *ngIf="deudor.mesesDebe > 2">
                    <div class="text-warning" *ngIf="!compareDate(deudor.fechaPrimerCbte)">
                      {{ getFechaBaja(deudor.fechaPrimerCbte) }}
                    </div>    
                    <div class="text-danger" *ngIf="compareDate(deudor.fechaPrimerCbte)">
                      {{ getFechaBaja(deudor.fechaPrimerCbte) }}
                    </div> 
                  </div>               
                </td>      
                <td>
                  <button type="button" class="btn btn-outline-danger btn-xs"
                      (click)="darBaja(deudor)">Dar de baja</button>
              </td>          
              </tr>
            </tbody>
          </table>
        </div>
        
      </div>
    </div>
  </div>
</div>